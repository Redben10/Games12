<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Void's Games</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Your existing styles here */
    </style>
</head>
<body>
    <div class="topbar">
        <h1>Void's Games</h1>
        <div class="nav-buttons">
            <a href="index.html" class="nav-button">Home</a>
            <a href="games.html" class="nav-button">Games</a>
            <a href="about.html" class="nav-button">About</a>
        </div>
    </div>
    <div class="content">
        <div class="iframe-container">
            <iframe id="gameIframe" src="" frameborder="0"></iframe>
            <button class="fullscreen-button" onclick="toggleFullscreen()"></button>
        </div>
    </div>

    <script>
        async function fetchGames() {
            const response = await fetch('path/to/your/games.json');
            return await response.json();
        }

        function getGameFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('game');
        }

        async function setIframeSource() {
            const game = getGameFromURL();
            const gamesData = await fetchGames();
            const gameEntry = gamesData.gameButtons.find(g => g.text === game);
            const iframe = document.getElementById('gameIframe');
            iframe.src = gameEntry ? gameEntry.link2 : '';
        }

        document.addEventListener('DOMContentLoaded', () => {
            setIframeSource();
        });

        function toggleFullscreen() {
            const iframe = document.getElementById('gameIframe');
            if (iframe.requestFullscreen) {
                if (document.fullscreenElement) {
                    document.exitFullscreen(); 
                } else {
                    iframe.requestFullscreen(); 
                }
            } else if (iframe.webkitRequestFullscreen) { /* Safari */
                if (document.webkitFullscreenElement) {
                    document.webkitExitFullscreen();
                } else {
                    iframe.webkitRequestFullscreen();
                }
            } else if (iframe.msRequestFullscreen) { /* IE11 */
                if (document.msFullscreenElement) {
                    document.msExitFullscreen();
                } else {
                    iframe.msRequestFullscreen();
                }
            }
        }
    </script>
</body>
</html>
